!
frr version 8.4
hostname r4
log stdout
service integrated-vtysh-config
!
interface lo
 ip address 10.0.4.4/32
!
# Core links to R1, R2, R3 (ensure the link subnets on peers match these)
# If your topology uses different eth numbers, adjust accordingly.
interface eth1
 ip address 10.0.13.2/30
!
interface eth2
 ip address 10.0.24.2/30
!
interface eth3
 ip address 10.0.34.2/30
!
# Data link to R9 (Area 3 / external)
interface eth4
 ip address 10.1.49.1/30
!
router bgp 65100
 bgp router-id 10.0.4.4
 no bgp default ipv4-unicast

 ! iBGP core neighbors (AS 65100)
 neighbor 10.0.1.1 remote-as 65100
 neighbor 10.0.2.2 remote-as 65100
 neighbor 10.0.3.3 remote-as 65100

 ! eBGP neighbor to R9 (AS 65103) â€” using the data-link IP
 neighbor 10.1.49.2 remote-as 65103

 address-family ipv4 unicast
  neighbor 10.0.1.1 activate
  neighbor 10.0.2.2 activate
  neighbor 10.0.3.3 activate
  neighbor 10.1.49.2 activate
 exit-address-family
!
ip route 0.0.0.0/0 10.0.34.1  # optional default via core/ISP if desired; adjust if needed
line vty
!
